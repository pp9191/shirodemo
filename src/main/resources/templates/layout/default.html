<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<link th:href="@{/common/css/bootstrap.css}" rel="stylesheet" />
<link th:href="@{/common/css/bootstrapValidator.css}" rel="stylesheet" />
<link th:href="@{/common/css/jquery-confirm.css}" rel="stylesheet" />
<link th:href="@{/common/css/bootstrap-datepicker3.css}" rel="stylesheet" />
<link th:href="@{/common/css/bootstrap-table.css}" rel="stylesheet" />
<link th:href="@{/common/css/bootstrap-select.css}" rel="stylesheet" />

<script th:src="@{/common/js/jquery.min.js}" type="text/javascript"></script>
<script th:src="@{/common/js/jquery.form.min.js}" type="text/javascript"></script>
<script th:src="@{/common/js/bootstrap.js}" type="text/javascript"></script>
<script th:src="@{/common/js/bootstrapValidator.js}" type="text/javascript"></script>
<script th:src="@{/common/js/jquery-confirm.js}" type="text/javascript"></script>
<script th:src="@{/common/js/bootstrap-datepicker.js}" type="text/javascript"></script>
<script th:src="@{/common/locales/bootstrap-datepicker.zh-CN.min.js}" type="text/javascript"></script>
<script th:src="@{/common/js/bootstrap-table.js}" type="text/javascript"></script>
<script th:src="@{/common/locales/bootstrap-table-zh-CN.min.js}" type="text/javascript"></script>
<script th:src="@{/common/js/bootstrap-select.js}" type="text/javascript"></script>
<script th:src="@{/common/js/common.js}" type="text/javascript"></script>

</head>
<body>	
	<nav class="navbar navbar-default" role="navigation">
		<div class="container-fluid">
			<div class="pull-right">
				<shiro:authenticated>
	            <div class="dropdown" style="margin-right:20px;">
	            	<a href="#" class="dropdown-toggle" data-toggle="dropdown" style="color: #333; font-weight: bold; text-decoration: none;">
	            		<img th:src="@{'/common/headImg/'+${session.userinfo.headImg}}" class="img-circle" 
							style="width:50px; height:50px;">&nbsp;&nbsp;
						<shiro:principal property="account" />            		
	            	</a>
	            	<ul class="dropdown-menu" style="left:auto; right:0;">
	                    <li><a th:href="@{/user/userinfo}">个人中心</a></li>
						<li><a th:href="@{/user/logout}">退出</a></li>
	                </ul>
	            </div>
				</shiro:authenticated>
				<shiro:notAuthenticated>
				<ul class="nav navbar-nav">
		            <li><a th:href="@{/user/login}">登录</a></li>
					<li><a th:href="@{/user/signup}">注册</a></li>
		        </ul>			
				</shiro:notAuthenticated>		            
			</div>
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
	                data-target="#example-navbar-collapse">
		            <span class="sr-only">切换导航</span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		        </button>
				<a class="navbar-brand" href="javacript:">bootstrap+thymeleaf+shiro Demo</a>
			</div>
			<div class="collapse navbar-collapse" id="example-navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="/">主页</a></li>
					<shiro:hasAnyRoles name="admin">
				 	<li class="dropdown">
				 		<a href="#" class="dropdown-toggle" data-toggle="dropdown">系统管理<b class="caret"></b></a>
		                <ul class="dropdown-menu">
		                    <li><a href="/perm/users">用户管理</a></li>
		                    <li><a href="/perm/roles">角色管理</a></li>
		                    <li><a href="/perm/permissions">权限点管理</a></li>
		                </ul>				 	
				 	</li>
					</shiro:hasAnyRoles>		            
		        </ul>
			</div>
		</div>
	</nav>
	<div layout:fragment="content"></div>
</body>
</html>