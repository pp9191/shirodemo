<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorate="layout/default">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body layout:fragment="content">
<script type="text/javascript">
function showAddDialog(){
	/* <form id="form_userinfo" th:action="@{/user/setUserinfo}" class="form-horizontal" role="form" method="post">
		<div class="form-group">
			<label for="account" class="col-sm-2 control-label">用户名</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" th:field="*{account}" />
			</div>
		</div>		
		<div class="form-group">
			<label for="phone" class="col-sm-2 control-label">手机号码</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" th:field="*{phone}" />
			</div>
		</div>
		<div class="form-group">
			<label for="email" class="col-sm-2 control-label">邮箱</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" th:field="*{email}" />
			</div>
		</div>
		<div class="form-group">
			<label for="address" class="col-sm-2 control-label">住址</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" th:field="*{address}" />
			</div>
		</div>
		<div class="form-group">
			<label for="remark" class="col-sm-2 control-label">个性签名</label>
			<div class="col-sm-10">
				<textarea class="form-control" th:field="*{remark}" rows="3"></textarea>
			</div>
		</div>
		<div class="form-group">
			<div style="text-align:center;">
				<input type="submit" class="btn btn-primary" value="保存" onclick="saveUserInfo()" />
				<input type="button" class="btn btn-default" value="取消" onclick="closeCurrentDialog()" />
			</div>
		</div>
	</form> */
	var content = '<form id="form_userinfo" action="/user/setUserinfo" class="form-horizontal" style="width:96%;" role="form" method="post">' +
				  '<div class="form-group">' +
				  '<label for="rolename" class="col-sm-2 control-label">角色名</label>' +
				  '<div class="col-sm-10"><input type="text" class="form-control" id="rolename" name="rolename"/></div>' +
			 	  '</div>' +
			 	  '<div class="form-group">' +
				  '<label for="remark" class="col-sm-2 control-label">角色说明</label>' +
				  '<div class="col-sm-10"><input type="text" class="form-control" id="remark" name="remark"/></div>' +
			 	  '</div>' +
				  '</form>';
	$.confirm({
		title: "新增角色",
		content: content,
		columnClass: "col-sm-8 col-sm-offset-2"
	});
}
function showEditDialog(){
	var rows = $("#table_users").bootstrapTable('getSelections');
	if(rows.length){		
		$.dialog({
			title: "修改角色",
			content: "url:/user/dialog_edituser/" + rows[0].account,
			columnClass: "col-sm-8 col-sm-offset-2"
		}); 
	}else{
		$.alert("请选择一条数据");
	}
}
</script>

	<div class="container-fluid">		
		<div class="hidden-xs col-sm-3 col-lg-2" >
			<ul class="nav nav-pills nav-stacked" style="min-height: 500px; border-radius: 5px; background-color: #f8f8f8;">
	            <li><a href="jvascript:">用户管理</a></li>
				<li class="active"><a href="jvascript:">角色管理</a></li>
	            <li><a href="jvascript:">权限管理</a></li>       
	        </ul>
		</div>
		<div class="col-xs-12 col-sm-9 col-lg-10">
			<div id="toolbar">
				<div class="btn-group">
					<button class="btn btn-default" onclick="showAddDialog()">
						<i class="glyphicon glyphicon-plus"></i>
					</button>
					<button class="btn btn-default">
						<i class="glyphicon glyphicon-trash"></i>
					</button>
					<button class="btn btn-default" onclick="showEditDialog()">
						<i class="glyphicon glyphicon-edit"></i>
					</button>
				</div>
			</div>
			
			<table id="table_users" data-toggle="table" data-url="/perm/roleAndUsers" data-method="post"
				data-pagination="true" data-side-pagination="server" data-page-size="10"
				data-show-refresh="true" data-show-toggle="true" data-show-columns="true"
				data-search="true" data-show-search-button="true" data-single-select="true"
				data-toolbar="#toolbar">
				
				<thead>
					<tr>
						<th data-checkbox="true"></th>
						<th data-field="rolename" data-halign="center" data-align="center">角色</th>
						<th data-field="remark" data-halign="center" data-align="center">角色名</th>
						<th data-field="account" data-halign="center" data-align="center">用户名</th>
						<th data-field="nickname" data-halign="center" data-align="center">昵称</th>
						<th data-field="gender" data-halign="center" data-align="center">性别</th>
						<th data-field="phone" data-halign="center" data-align="center">手机号</th>
						<th data-field="email" data-halign="center" data-align="center">邮箱</th>
						<th data-field="address" data-halign="center" data-align="center">住址</th>
					</tr>
				</thead>
			</table>
		</div>		
	</div>
	
</body>
</html>